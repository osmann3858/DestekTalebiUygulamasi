@model IEnumerable<DestekTalebiUygulamasi.Models.DestekTalebi>

<div class="container">
    <p class="lead">Mevcut taleplerinizi burada görüntüleyebilir veya yeni bir talep oluşturabilirsiniz.</p>

    <div class="card shadow-sm mb-5">
        <div class="card-header bg-primary text-white">
            <h2>Mevcut Talepler</h2>
        </div>
        <div class="card-body">
            <p>Burada, şu anda işleme alınmış destek taleplerini görebilirsiniz.</p>
            <table class="table table-hover">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">Id</th> <!-- TalepNo yerine Sıra sütunu -->
                        <th scope="col">Konu</th>
                        <th scope="col">Öncelik</th>
                        <th scope="col">Durum</th>
                        <th scope="col">Tarih</th> <!-- Tarih kolonu eklendi -->
                        <th scope="col">İşlemler</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                         // Sayaç değişkenini tanımla ve 1'den başlat
                    }

                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.ID</td> <!-- Sayacı Talep No olarak göster -->
                            <td>@item.Konu</td>
                            <td>@item.Oncelik</td>
                            <td>@item.Durum</td>
                            <td>@item.Tarih.ToString("dd/MM/yyyy")</td> <!-- Tarih bilgisi eklendi -->
                            <td>
                                <a href="@Url.Action("Edit", "DestekTalebi", new { id = item.ID })" class="btn btn-warning btn-sm mr-2">Düzenle</a>
                                <a href="@Url.Action("Details", "DestekTalebi", new { id = item.ID })" class="btn btn-info btn-sm">Detaylar</a>
                            </td>
                        </tr>
                         // Sayacı her döngüde bir artır
                    }

                </tbody>

            </table>
        </div>
    </div>

    <div class="card shadow-sm">
        <div class="card-header bg-success text-white">
            <h2>Yeni Talep Oluştur</h2>
        </div>
        <div class="card-body">
            <p>Yeni bir destek talebi oluşturmak için aşağıdaki formu doldurun.</p>
            <a href="@Url.Action("Create", "DestekTalebi")" class="btn btn-primary btn-lg">Yeni Talep Oluştur</a>
        </div>
    </div>
</div>
